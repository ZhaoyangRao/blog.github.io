(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{128:function(a,t,s){"use strict";s.r(t);var e=s(0),r=Object(e.a)({},function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h2",{attrs:{id:"mongodb小例子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mongodb小例子","aria-hidden":"true"}},[a._v("#")]),a._v(" mongodb小例子")]),a._v(" "),s("p",[a._v("koa（后端）+mongodb（数据库）+vue前端界面实现得增删改查小demo\n昨天闲下来翻了一下koa的api做了一个增删改查小表格demo，四个接口加前端小界面，大概加查看api用了半天时间。所以koa确实是一个简单快速开发的库\n看这个你应该已经学会了操作一种数据库，我这里用的是mongodb，对mongodb不会的可以去看看我的前两篇文章，上手很简单，我这里用的是可视化工具robo3.0")]),a._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/5/15/16ab928a0aadf5b6?w=1723&h=720&f=png&s=72499",alt:""}})]),a._v(" "),s("p",[a._v("由于前端很简单我就放在了public下面，项目地址 https://github.com/ZhaoyangRao/koa.git")]),a._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[a._v("效果图")]),a._v(" "),s("p",[a._v("先看看实现后的效果图吧")])]),a._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2019/5/15/16ab94944c3f5117?w=860&h=356&f=png&s=27768",alt:""}}),a._v("\n很简单的一个表格的增删改查")]),a._v(" "),s("h3",{attrs:{id:"后端代码的结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#后端代码的结构","aria-hidden":"true"}},[a._v("#")]),a._v(" 后端代码的结构")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("├── app     \n│   └── controllers // 控制器文件目录，用来操作数据库\n│   │   └──  ...  // 对应操作的表，这里就省略了\n│   ├── middleware// 自定义中间件目录\n│   ├── models    // 定义的表结构\n│   │   └──  ...  // 对应的表，这里就省略了\n│   └── utils     // 工具模块目录\n│   │   └──  ...  // 工具模块，这里就省略了\n├── routes         // 路由文件\n│   ├── api    // 路由配置     \n├── app.js        // 项目入口文件\n└── config.js     // 配置文件\n")])])]),s("p",[a._v("这里说一个题外话，其实现在前端后端有一个贯穿编码整个的思想就是MVC，这里的目录和作用也体现了MVC，models就是M,controllers就是C，routes就类似于V表现层也就是抛出来的请求接口。")]),a._v(" "),s("h2",{attrs:{id:"主要目录概述"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主要目录概述","aria-hidden":"true"}},[a._v("#")]),a._v(" 主要目录概述")]),a._v(" "),s("h3",{attrs:{id:"appjs入口文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#appjs入口文件","aria-hidden":"true"}},[a._v("#")]),a._v(" appjs入口文件")]),a._v(" "),s("p",[a._v("入口文件没有业务代码，做了几件重要的事情，")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("1.require('koa')\n2.连接了数据库（需要用到mongoose mongoose是nodeJS提供连接 mongodb的一个库）\n3.引入调用了routes\n4.require('koa2-cors');require('koa-body');\n我这里还引入两个用的比较多的生态库，一个用来解决跨域，一个用来解决post请求以及文件下载等\n")])])]),s("h3",{attrs:{id:"连接数据库相关目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#连接数据库相关目录","aria-hidden":"true"}},[a._v("#")]),a._v(" 连接数据库相关目录")]),a._v(" "),s("p",[a._v("首先数据库属于M层，你可以看见models里面就是mongoose连接 mongodb的，")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("mongoose.Schema( 相当于一个数据库的模板，数据结构)\nmongoose.model（简单的理解就是通过mongoose.model你就可以对数据库里面的相应的数据进行操作（））\n")])])]),s("h3",{attrs:{id:"controllers目录"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#controllers目录","aria-hidden":"true"}},[a._v("#")]),a._v(" controllers目录")]),a._v(" "),s("p",[a._v("也就是自己定义的那些操作调用数据层的那些方法控制器")]),a._v(" "),s("h3",{attrs:{id:"utils工具"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#utils工具","aria-hidden":"true"}},[a._v("#")]),a._v(" utils工具")]),a._v(" "),s("p",[a._v("一些常用的方法，格式化时间等")]),a._v(" "),s("h3",{attrs:{id:"middleware自定义中间件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#middleware自定义中间件","aria-hidden":"true"}},[a._v("#")]),a._v(" middleware自定义中间件")]),a._v(" "),s("p",[a._v("你可以写一些对request response封装一下")]),a._v(" "),s("h3",{attrs:{id:"routes（接口）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#routes（接口）","aria-hidden":"true"}},[a._v("#")]),a._v(" routes（接口）")]),a._v(" "),s("p",[a._v("暴露出去的接口，以及相应接口调用的回调controllers,controllers再去操作models")]),a._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[a._v("效果图")]),a._v(" "),s("p",[a._v("总结，这只是我自己定义的目录，以及自己的片面理解，具体代码注释在文件里面，毕竟只看了写了半天，有不对的地方欢迎指正")])])])},[],!1,null,null,null);t.default=r.exports}}]);