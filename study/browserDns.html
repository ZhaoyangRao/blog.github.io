<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>浏览器DNS域名解析 | RaoCy</title>
    <meta name="description" content="欢迎来到RaoCy博客">
    <link rel="icon" href="/blog.github.io/images/logo.png">
    
    <link rel="preload" href="/blog.github.io/assets/css/0.styles.59e117d8.css" as="style"><link rel="preload" href="/blog.github.io/assets/js/app.52ddee49.js" as="script"><link rel="preload" href="/blog.github.io/assets/js/2.08fb6a77.js" as="script"><link rel="preload" href="/blog.github.io/assets/js/19.5bb111c5.js" as="script"><link rel="prefetch" href="/blog.github.io/assets/js/10.f22ebfd2.js"><link rel="prefetch" href="/blog.github.io/assets/js/11.c234647a.js"><link rel="prefetch" href="/blog.github.io/assets/js/12.11cd38ed.js"><link rel="prefetch" href="/blog.github.io/assets/js/13.d564fbc3.js"><link rel="prefetch" href="/blog.github.io/assets/js/14.dd63faa6.js"><link rel="prefetch" href="/blog.github.io/assets/js/15.00511f46.js"><link rel="prefetch" href="/blog.github.io/assets/js/16.aab422e7.js"><link rel="prefetch" href="/blog.github.io/assets/js/17.b6d00a64.js"><link rel="prefetch" href="/blog.github.io/assets/js/18.51b18ab0.js"><link rel="prefetch" href="/blog.github.io/assets/js/20.6da5e547.js"><link rel="prefetch" href="/blog.github.io/assets/js/21.5ea4b11c.js"><link rel="prefetch" href="/blog.github.io/assets/js/22.05b1692d.js"><link rel="prefetch" href="/blog.github.io/assets/js/23.a7ba6e9a.js"><link rel="prefetch" href="/blog.github.io/assets/js/24.5bb7448e.js"><link rel="prefetch" href="/blog.github.io/assets/js/25.fe2f5d6a.js"><link rel="prefetch" href="/blog.github.io/assets/js/26.c36c26ac.js"><link rel="prefetch" href="/blog.github.io/assets/js/27.205bc2e5.js"><link rel="prefetch" href="/blog.github.io/assets/js/28.c77630c0.js"><link rel="prefetch" href="/blog.github.io/assets/js/29.863b5a3d.js"><link rel="prefetch" href="/blog.github.io/assets/js/3.5045f36e.js"><link rel="prefetch" href="/blog.github.io/assets/js/30.2cb35741.js"><link rel="prefetch" href="/blog.github.io/assets/js/31.f2411ca3.js"><link rel="prefetch" href="/blog.github.io/assets/js/32.f285ff61.js"><link rel="prefetch" href="/blog.github.io/assets/js/33.93b334b8.js"><link rel="prefetch" href="/blog.github.io/assets/js/34.c028fd2d.js"><link rel="prefetch" href="/blog.github.io/assets/js/35.87c86838.js"><link rel="prefetch" href="/blog.github.io/assets/js/36.7d5d299d.js"><link rel="prefetch" href="/blog.github.io/assets/js/37.81a52c7a.js"><link rel="prefetch" href="/blog.github.io/assets/js/38.50eb1831.js"><link rel="prefetch" href="/blog.github.io/assets/js/39.5de03b27.js"><link rel="prefetch" href="/blog.github.io/assets/js/4.a5919593.js"><link rel="prefetch" href="/blog.github.io/assets/js/5.27e3fd38.js"><link rel="prefetch" href="/blog.github.io/assets/js/6.1d802978.js"><link rel="prefetch" href="/blog.github.io/assets/js/7.a1080829.js"><link rel="prefetch" href="/blog.github.io/assets/js/8.3f1e94ff.js"><link rel="prefetch" href="/blog.github.io/assets/js/9.fcceb79b.js">
    <link rel="stylesheet" href="/blog.github.io/assets/css/0.styles.59e117d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog.github.io/" class="home-link router-link-active"><!----> <span class="site-name">RaoCy</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器的世界" class="dropdown-title"><span class="title">浏览器的世界</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserKey/" class="nav-link">浏览器内核</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browser/" class="nav-link">浏览器多线程多进程</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserOpen/" class="nav-link">浏览器同域名请求并发限制</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserDns/" class="nav-link">浏览器DNS域名解析</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/broeweSafe/" class="nav-link">浏览器的安全</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserCache/" class="nav-link">浏览器的缓存</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/webworker/" class="nav-link">Web Worker</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/iframe/" class="nav-link">iframe</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/http/" class="nav-link">http协议</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/cookie/" class="nav-link">cookie</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端杂谈" class="dropdown-title"><span class="title">前端杂谈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/modules/" class="nav-link">前端开发模式</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/jsnull/" class="nav-link">null与undefined</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/eventLoop/" class="nav-link">宏任务和微任务</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/callback/" class="nav-link">js异步编程方案</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/iterable/" class="nav-link">iterator迭代器</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/closure/" class="nav-link">闭包</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/funcHigh/" class="nav-link">高阶函数</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/this/" class="nav-link">js中的this</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/class/" class="nav-link">js中的面向对象</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/event/" class="nav-link">js里的事件模型</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/diff/" class="nav-link">diff算法</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/module/" class="nav-link">前端模块化规范</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端技术杂玩" class="dropdown-title"><span class="title">前端技术杂玩</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/react/index/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/mongodb/api/" class="nav-link">mongodb</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/vuecli/index/" class="nav-link">vuecli</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/mxgraph/index/" class="nav-link">mxgraph</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/prerender-spa-plugin/index/" class="nav-link">prerender-spa-plugin</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器的世界" class="dropdown-title"><span class="title">浏览器的世界</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserKey/" class="nav-link">浏览器内核</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browser/" class="nav-link">浏览器多线程多进程</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserOpen/" class="nav-link">浏览器同域名请求并发限制</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserDns/" class="nav-link">浏览器DNS域名解析</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/broeweSafe/" class="nav-link">浏览器的安全</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserCache/" class="nav-link">浏览器的缓存</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/webworker/" class="nav-link">Web Worker</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/iframe/" class="nav-link">iframe</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/http/" class="nav-link">http协议</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/cookie/" class="nav-link">cookie</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端杂谈" class="dropdown-title"><span class="title">前端杂谈</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/modules/" class="nav-link">前端开发模式</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/jsnull/" class="nav-link">null与undefined</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/eventLoop/" class="nav-link">宏任务和微任务</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/callback/" class="nav-link">js异步编程方案</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/iterable/" class="nav-link">iterator迭代器</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/closure/" class="nav-link">闭包</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/funcHigh/" class="nav-link">高阶函数</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/this/" class="nav-link">js中的this</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/class/" class="nav-link">js中的面向对象</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/event/" class="nav-link">js里的事件模型</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/diff/" class="nav-link">diff算法</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/module/" class="nav-link">前端模块化规范</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端技术杂玩" class="dropdown-title"><span class="title">前端技术杂玩</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/react/index/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/mongodb/api/" class="nav-link">mongodb</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/vuecli/index/" class="nav-link">vuecli</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/mxgraph/index/" class="nav-link">mxgraph</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/prerender-spa-plugin/index/" class="nav-link">prerender-spa-plugin</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>浏览器DNS域名解析</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog.github.io/study/browserDns.html#浏览器dns域名解析" class="sidebar-link">浏览器DNS域名解析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog.github.io/study/browserDns.html#dns域名解析" class="sidebar-link">DNS域名解析</a></li><li class="sidebar-sub-header"><a href="/blog.github.io/study/browserDns.html#为什么需要dns解析？" class="sidebar-link">为什么需要DNS解析？</a></li><li class="sidebar-sub-header"><a href="/blog.github.io/study/browserDns.html#dns怎么去解析？" class="sidebar-link">DNS怎么去解析？</a></li><li class="sidebar-sub-header"><a href="/blog.github.io/study/browserDns.html#dns预解析" class="sidebar-link">DNS预解析</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="浏览器dns域名解析"><a href="#浏览器dns域名解析" class="header-anchor">#</a> 浏览器DNS域名解析</h2> <h3 id="dns域名解析"><a href="#dns域名解析" class="header-anchor">#</a> DNS域名解析</h3> <p>DNS域名解析简单的理解，就是当你输入一个域名，DNS服务器把我们输入的域名翻译成IP地址，它就是一个翻译官。<br></p> <h3 id="为什么需要dns解析？"><a href="#为什么需要dns解析？" class="header-anchor">#</a> 为什么需要DNS解析？<br></h3> <p>网络通讯大部分都是基于TCP/IP协议，看名字都知道TCP/IP是基于IP地址的，所以在网络通讯时人家只认识‘196.168.0.0’之类的IP地址，你看这反人类的数字，不可能让用户去记这些，所以就诞生了更简单的域名类似‘www.baidu.com'，用户记住域名输入，DNS解析成IP地址就行了。<br></p> <p>TCP/IP协议这里就不细讲了。</p> <h3 id="dns怎么去解析？"><a href="#dns怎么去解析？" class="header-anchor">#</a> DNS怎么去解析？</h3> <ul><li><p>1.用户输入一个域名，例如’www.baidu.com'，浏览器马上开启线程去DNS解析这个域名，目的就是转换成IP地址<br></p></li> <li><p>2.首先，会先检测浏览器自己的缓存里面有没有这个域名对应的IP地址，有就结束，没有就继续。<br></p></li> <li><p>3.检查系统缓存中有没有。比如我们开发的时候修改的host文件，里面有域名对应的ip地址，就结束，没有证明本地确实哪都没找到缓存。<br></p> <p>注意=&gt;（这里的host文件，某些病毒就会修改你系统的host，造成域名劫持）<br></p></li> <li><p>4.开始往路由器缓存中找，路由器也没找到，那真的是客服端确实找不到缓存了，开始去服务器上查询。<br></p> <p>注意=&gt;（这里也是容易被劫持的风险点，如果有人改了你的路由器域名ip匹配，所以不要随便连不熟悉的路由器）<br></p></li> <li><p>5.会优先去本地域名服务器(LDNS),顾名思义就是你当地的服务器上，有可能就在你的城里，通常已经缓存了大部分的域名IP地址<br></p></li> <li><p>6.如果本地域名服务器没找到，本地域名服务器就去根域名服务器（Root Server）上请求解析，根域名服务器把结果返回给本地域名服务器，本地域名服务器，会缓存下来，并返回给客户端（全球好像只有十几台根域名服务器，他们之间也会存在互相查询之类，这里就不细说了）<br></p></li></ul> <p>从上面的过程就可以看出来，DNS解析其实还是会耗费一定的时间，类似于递归的去查询，尤其你的域名在本地没有缓存的情况下，所以自然而然就会想法去优化DNS解析。</p> <h3 id="dns预解析"><a href="#dns预解析" class="header-anchor">#</a> DNS预解析</h3> <p>DNS解析优化也算是前端优化很基础却也是容易忘记的一个点<br></p> <p>核心思想就是：<br></p> <ul><li>减少DNS解析</li> <li>DNS预解析    =&gt;(浏览器在空闲时间会提前把这些域名转换为对应的 IP 地址，缓存到系统缓存中，从而缩短 DNS 解析花费的时间，提高访问网站的速度）</li></ul> <p>这里主要是讲DNS预解析，其实使用很简单</p> <div class="language- extra-class"><pre class="language-text"><code>&lt;!-- 开启DNS预解析 --&gt;
    &lt;meta http-equiv=&quot;x-dns-prefetch-control&quot; content=&quot;on&quot;&gt;
    &lt;link rel=&quot;dns-prefetch&quot; href=&quot;//cdn.boblog.com&quot;&gt;
    &lt;link rel=&quot;dns-prefetch&quot; href=&quot;//images.boblog.com&quot;&gt;
&lt;!-- 关闭DNS预解析 --&gt;
    &lt;meta  http-equiv=&quot;x-dns-prefetch-control&quot; content=&quot;off&quot;&gt;
    注：dns-prefetch需慎用，多页面重复DNS预解析会增加重复DNS查询次数
</code></pre></div><ul><li>meta信息是告诉浏览器，当前页面要做DNS预解析<br></li> <li>link标签是告诉浏览器对特定的域名进行预解析<br></li></ul> <p>其实很多浏览器已经内置了DNS预解析的功能，比如谷歌，不设置，他依然自己会进行预解析，设置了反而会让他多次DNS预解析。但是换个角度想，第一次解析了，一般浏览器都会存在本地，后面的解析大多会从缓存中取，现代浏览器倒也不会有多大影响~~。</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog.github.io/assets/js/app.52ddee49.js" defer></script><script src="/blog.github.io/assets/js/2.08fb6a77.js" defer></script><script src="/blog.github.io/assets/js/19.5bb111c5.js" defer></script>
  </body>
</html>
