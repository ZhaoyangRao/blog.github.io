<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>gulp | RaoCy</title>
    <meta name="description" content="欢迎来到RaoCy博客">
    <link rel="icon" href="/blog.github.io/images/logo.png">
    
    <link rel="preload" href="/blog.github.io/assets/css/0.styles.59e117d8.css" as="style"><link rel="preload" href="/blog.github.io/assets/js/app.777ce96d.js" as="script"><link rel="preload" href="/blog.github.io/assets/js/2.08fb6a77.js" as="script"><link rel="preload" href="/blog.github.io/assets/js/28.3f289a1b.js" as="script"><link rel="prefetch" href="/blog.github.io/assets/js/10.f22ebfd2.js"><link rel="prefetch" href="/blog.github.io/assets/js/11.c234647a.js"><link rel="prefetch" href="/blog.github.io/assets/js/12.11cd38ed.js"><link rel="prefetch" href="/blog.github.io/assets/js/13.57193f8c.js"><link rel="prefetch" href="/blog.github.io/assets/js/14.261751aa.js"><link rel="prefetch" href="/blog.github.io/assets/js/15.81436482.js"><link rel="prefetch" href="/blog.github.io/assets/js/16.577eb19e.js"><link rel="prefetch" href="/blog.github.io/assets/js/17.03cb6c75.js"><link rel="prefetch" href="/blog.github.io/assets/js/18.f58a6415.js"><link rel="prefetch" href="/blog.github.io/assets/js/19.14dcfa95.js"><link rel="prefetch" href="/blog.github.io/assets/js/20.2b07e4f3.js"><link rel="prefetch" href="/blog.github.io/assets/js/21.b2e76090.js"><link rel="prefetch" href="/blog.github.io/assets/js/22.a48b1be0.js"><link rel="prefetch" href="/blog.github.io/assets/js/23.2891f3cb.js"><link rel="prefetch" href="/blog.github.io/assets/js/24.b95b4c8b.js"><link rel="prefetch" href="/blog.github.io/assets/js/25.2e3e802d.js"><link rel="prefetch" href="/blog.github.io/assets/js/26.bd8e7bdc.js"><link rel="prefetch" href="/blog.github.io/assets/js/27.518dbe12.js"><link rel="prefetch" href="/blog.github.io/assets/js/29.3c1f57d6.js"><link rel="prefetch" href="/blog.github.io/assets/js/3.e1227595.js"><link rel="prefetch" href="/blog.github.io/assets/js/30.c3b24ec5.js"><link rel="prefetch" href="/blog.github.io/assets/js/31.92df6081.js"><link rel="prefetch" href="/blog.github.io/assets/js/32.bd0c2ad2.js"><link rel="prefetch" href="/blog.github.io/assets/js/33.8d78e321.js"><link rel="prefetch" href="/blog.github.io/assets/js/34.a56911b9.js"><link rel="prefetch" href="/blog.github.io/assets/js/35.727328dc.js"><link rel="prefetch" href="/blog.github.io/assets/js/36.f7ca9612.js"><link rel="prefetch" href="/blog.github.io/assets/js/37.ea4b5000.js"><link rel="prefetch" href="/blog.github.io/assets/js/38.fd7e8799.js"><link rel="prefetch" href="/blog.github.io/assets/js/39.7b4c5fc7.js"><link rel="prefetch" href="/blog.github.io/assets/js/4.67f5b965.js"><link rel="prefetch" href="/blog.github.io/assets/js/40.17a3d4e2.js"><link rel="prefetch" href="/blog.github.io/assets/js/41.aac81066.js"><link rel="prefetch" href="/blog.github.io/assets/js/5.a9ca4684.js"><link rel="prefetch" href="/blog.github.io/assets/js/6.792fe230.js"><link rel="prefetch" href="/blog.github.io/assets/js/7.a1080829.js"><link rel="prefetch" href="/blog.github.io/assets/js/8.3f1e94ff.js"><link rel="prefetch" href="/blog.github.io/assets/js/9.fcceb79b.js">
    <link rel="stylesheet" href="/blog.github.io/assets/css/0.styles.59e117d8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog.github.io/" class="home-link router-link-active"><!----> <span class="site-name">RaoCy</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端构建工具" class="dropdown-title"><span class="title">前端构建工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/study/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/gulp/" class="nav-link">gulp</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器的世界" class="dropdown-title"><span class="title">浏览器的世界</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserKey/" class="nav-link">浏览器内核</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browser/" class="nav-link">浏览器多线程多进程</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserOpen/" class="nav-link">浏览器同域名请求并发限制</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserDns/" class="nav-link">浏览器DNS域名解析</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/broeweSafe/" class="nav-link">浏览器的安全</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserCache/" class="nav-link">浏览器的缓存</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/webworker/" class="nav-link">Web Worker</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/iframe/" class="nav-link">iframe</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/http/" class="nav-link">http协议</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/cookie/" class="nav-link">cookie</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端知识点" class="dropdown-title"><span class="title">前端知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/modules/" class="nav-link">前端开发模式</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/jsnull/" class="nav-link">null与undefined</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/eventLoop/" class="nav-link">宏任务和微任务</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/callback/" class="nav-link">js异步编程方案</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/iterable/" class="nav-link">iterator迭代器</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/closure/" class="nav-link">闭包</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/funcHigh/" class="nav-link">高阶函数</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/this/" class="nav-link">js中的this</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/class/" class="nav-link">js中的面向对象</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/event/" class="nav-link">js里的事件模型</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/diff/" class="nav-link">diff算法</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/module/" class="nav-link">前端模块化规范</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端技术杂玩" class="dropdown-title"><span class="title">前端技术杂玩</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/react/index/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/mongodb/api/" class="nav-link">mongodb</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/vuecli/index/" class="nav-link">vuecli</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/mxgraph/index/" class="nav-link">mxgraph</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/prerender-spa-plugin/index/" class="nav-link">prerender-spa-plugin</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端构建工具" class="dropdown-title"><span class="title">前端构建工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/study/webpack/" class="nav-link">webpack</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/gulp/" class="nav-link">gulp</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="浏览器的世界" class="dropdown-title"><span class="title">浏览器的世界</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserKey/" class="nav-link">浏览器内核</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browser/" class="nav-link">浏览器多线程多进程</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserOpen/" class="nav-link">浏览器同域名请求并发限制</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserDns/" class="nav-link">浏览器DNS域名解析</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/broeweSafe/" class="nav-link">浏览器的安全</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/browserCache/" class="nav-link">浏览器的缓存</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/webworker/" class="nav-link">Web Worker</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/iframe/" class="nav-link">iframe</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/http/" class="nav-link">http协议</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/cookie/" class="nav-link">cookie</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端知识点" class="dropdown-title"><span class="title">前端知识点</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/modules/" class="nav-link">前端开发模式</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/jsnull/" class="nav-link">null与undefined</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/eventLoop/" class="nav-link">宏任务和微任务</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/callback/" class="nav-link">js异步编程方案</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/iterable/" class="nav-link">iterator迭代器</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/closure/" class="nav-link">闭包</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/funcHigh/" class="nav-link">高阶函数</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/this/" class="nav-link">js中的this</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/class/" class="nav-link">js中的面向对象</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/event/" class="nav-link">js里的事件模型</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/diff/" class="nav-link">diff算法</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/study/module/" class="nav-link">前端模块化规范</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端技术杂玩" class="dropdown-title"><span class="title">前端技术杂玩</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog.github.io/react/index/" class="nav-link">react</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/mongodb/api/" class="nav-link">mongodb</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/vuecli/index/" class="nav-link">vuecli</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/mxgraph/index/" class="nav-link">mxgraph</a></li><li class="dropdown-item"><!----> <a href="/blog.github.io/prerender-spa-plugin/index/" class="nav-link">prerender-spa-plugin</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>gulp</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog.github.io/study/gulp.html#gulp" class="sidebar-link">gulp</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog.github.io/study/gulp.html#核心api" class="sidebar-link">核心api</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog.github.io/study/gulp.html#gulp-src" class="sidebar-link">gulp.src()</a></li><li class="sidebar-sub-header"><a href="/blog.github.io/study/gulp.html#gulp-dest" class="sidebar-link">gulp.dest()</a></li><li class="sidebar-sub-header"><a href="/blog.github.io/study/gulp.html#gulp-task" class="sidebar-link">gulp.task()</a></li><li class="sidebar-sub-header"><a href="/blog.github.io/study/gulp.html#gulp-watch" class="sidebar-link">gulp.watch()</a></li><li class="sidebar-sub-header"><a href="/blog.github.io/study/gulp.html#简单的配置一个前端构建工程" class="sidebar-link">简单的配置一个前端构建工程</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="gulp"><a href="#gulp" class="header-anchor">#</a> gulp</h2> <p>gulp是一款前端的构建工具，并且十分简单，核心api很少，我觉得是目前最有资格说自己开箱即用的构建工具了</p> <p>在没有构建工具的原始时代，前端的很多痛点，比如编译，大多依赖于编辑器自己装插件去实现css的转换啊,es6的转换啊，热更新啊，这还只是开发阶段，后面的压缩代码，压缩图片等等，严重影响了前端的编程体验，所以就需要自动化的构建工具来完成这些事，前端工作者只操心编码就行了</p> <p>gulp就是一款很优秀的构建工具,像组合积木一样，把一个一个task给组装起来，完成整个构建流程</p> <h2 id="核心api"><a href="#核心api" class="header-anchor">#</a> 核心api</h2> <h3 id="gulp-src"><a href="#gulp-src" class="header-anchor">#</a> gulp.src()</h3> <p>简单的理解就是读取文件</p> <div class="language- extra-class"><pre class="language-text"><code> gulp.src('js/*.js')

//gulp.src(path) - 选择文件，传入参数是文件路径，从上面也可以看见可以传匹配符号*，
</code></pre></div><h3 id="gulp-dest"><a href="#gulp-dest" class="header-anchor">#</a> gulp.dest()</h3> <p>简单的理解就是输出文件</p> <div class="language- extra-class"><pre class="language-text"><code>gulp.dest('dist/js')

//gulp.dest(path) - 输出文件
</code></pre></div><h3 id="gulp-task"><a href="#gulp-task" class="header-anchor">#</a> gulp.task()</h3> <p>定义一个任务，gulp里面任务的概念贯穿整个构建流程，构建流程就是一个一个任务组成的</p> <div class="language- extra-class"><pre class="language-text"><code>// 获取 gulp
var gulp = require('gulp')
// 获取 uglify 模块（用于压缩 JS）
var uglify = require('gulp-uglify')
gulp.task('script', function() {
    // 1. 找到文件
    gulp.src('js/*.js')
    // 2. 压缩文件
        .pipe(uglify())
    // 3. 另存压缩后的文件
        .pipe(gulp.dest('dist/js'))
})

//这就是一个压缩js的任务示例
</code></pre></div><h3 id="gulp-watch"><a href="#gulp-watch" class="header-anchor">#</a> gulp.watch()</h3> <p>监听文件的变化,没有命令可以运行 gulp.watch()，需要将 gulp.watch() 包含在一个任务中。</p> <div class="language- extra-class"><pre class="language-text"><code>/ 获取 gulp
var gulp = require('gulp')
// 获取 uglify 模块（用于压缩 JS）
var uglify = require('gulp-uglify')
// 压缩 js 文件
// 在命令行使用 gulp script 启动此任务
gulp.task('script', function() {
    // 1. 找到文件
    gulp.src('js/*.js')
    // 2. 压缩文件
        .pipe(uglify())
    // 3. 另存压缩后的文件
        .pipe(gulp.dest('dist/js'))
})
// 在命令行使用 gulp auto 启动此任务
gulp.task('watch', function () {
    // 监听文件修改，当文件被修改则执行 script 任务
    gulp.watch('js/*.js', ['script'])
})

// 使用 gulp.task('default') 定义默认任务
// 在命令行使用 gulp 启动 script 任务和 auto 任务
gulp.task('default', ['watch'])
</code></pre></div><h3 id="简单的配置一个前端构建工程"><a href="#简单的配置一个前端构建工程" class="header-anchor">#</a> 简单的配置一个前端构建工程</h3> <div class="language- extra-class"><pre class="language-text"><code>const gulp = require('gulp')

html给弄到dist
gulp.task('copy-html',function(){
    gulp.src('./index.html')
        .pipe(gulp.dest('dist'))
}

合并css文件 压缩css 插件gulp-concat
const  concat  = require（&quot;gulp-concat&quot;）
gulp.task(&quot;copy-css&quot;,function(){
        gulp.src(&quot;./css/**/*&quot;)       
            .pipe(concat(&quot;main.css&quot;))     //合并后的文件名
                .pipe(minifyCss())        //压缩  
                    .pipe(gulp.dest(&quot;dist/css&quot;))   //复制到当前目录的dist目录内     
————————————————————————————————————————————————————————————————
编译js代码  压缩js  
const uglify = require（&quot;gulp-uglify&quot;）
const babel = require(&quot;gulp-babel&quot;);    // 用于ES6转化ES5
gulp.tast(&quot;copy-js&quot;,()=&gt;{
     gulp.src(&quot;./js/**/*&quot;)    
        .pipe(babel({
            presets: [&quot;es2015&quot;]               
        }))  //将ES6代码转译为可执行的JS代码
        .pipe(uglify()) //压缩
        .pipe(gulp.dest(&quot;dist/js&quot;))  //复制到当前目录的dist目录内     
}) 
————————————————————————————————————————————————————————————————
压缩图片   
const imagemin = require(&quot;gulp-imagemin&quot;)
gulp.task(&quot;copy-images&quot;,()=&gt;{
gulp.src(&quot;./assets/**/*&quot;)
.pipe(imagemin()) //压缩图片
.pipe(gulp.dest(&quot;dist/assets&quot;))
})
————————————————————————————————————————————————————————————————
watch 文件的变化
gulp.task(&quot;watch&quot;,()=&gt;{
gulp.watch(&quot;index.html&quot;,[&quot;copy-index&quot;])
gulp.watch(&quot;./css/**/*&quot;,[&quot;copy-css&quot;])
gulp.watch(&quot;./js/**/*&quot;,[&quot;copy-js&quot;])
gulp.watch(&quot;./assets/**/*&quot;,[&quot;copy-images&quot;])
gulp.watch(&quot;./dist/**/*.*&quot;, [&quot;reload&quot;]);//监听dist下所有文件

})

gulp.task(&quot;reload&quot;, function(){
    gulp.src(&quot;./dist/**/*.html&quot;)
        .pipe(connect.reload());   //热更新
})
————————————————————————————————————————————————————————————————
gulp服务器的简单配置，比如跨域之类的都可以
var proxy = require('http-proxy-middleware');

gulp.task(&quot;server&quot;,()=&gt;{
connect.server({
    //说明服务器的根目录
    port: 8000,
    root:&quot;dist&quot;,
    livereload:true //实时更新
    middleware: function (connect, opt) {
            return [
                proxy('/fs', {
                    target: 'http://172.16.2.52:8080',
                    changeOrigin:true
                }),
                proxy('/product', {
                    target: 'http://172.16.1.60:8080',
                    changeOrigin:true
                }),
                proxy('/bpauth', {
                    target: 'http://192.168.24.77:8080',
                    changeOrigin:true
                })
            ]
        }
    })
    })
————————————————————————————————————————————————————————————————

添加一些组合的命令 比如gulp build来一次性执行多个任务，打包项目
gulp.task(&quot;build&quot;,[&quot;copy-html&quot;,&quot;copy-index&quot;,&quot;copy-css&quot;,&quot;cope-js&quot;,&quot;copy-images&quot;],()=&gt;{
console.log(success)
})
————————————————————————————————————————————————————————————————
设置一些gulp默认启动的项目，server watch
gulp.task(&quot;default&quot;,[&quot;server&quot;,&quot;watch&quot;])

</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog.github.io/assets/js/app.777ce96d.js" defer></script><script src="/blog.github.io/assets/js/2.08fb6a77.js" defer></script><script src="/blog.github.io/assets/js/28.3f289a1b.js" defer></script>
  </body>
</html>
